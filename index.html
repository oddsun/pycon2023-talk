<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>Pycon 2023 Lightning Talk</title>

    <link
      rel="stylesheet"
      href="css/text_color.css"
    />
    <link
      rel="stylesheet"
      href="dist/reset.css"
    />
    <link
      rel="stylesheet"
      href="dist/reveal.css"
    />
    <link
      rel="stylesheet"
      href="dist/theme/black.css"
    />

    <!-- Theme used for syntax highlighted code -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css"
    />
    <!-- <link
      rel="stylesheet"
      href="plugin/highlight/monokai.css"
    /> -->
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h2 style="color: #ffca00">Simplifying</h2>

          <img
            src="media/pandas_white.svg"
            height="150em"
          />
          <h5>
            <span class="text-blue">Data</span>-agnostic
            <span class="text-blue">Data</span> Analysis
          </h5>
          <p>by <span class="my-thought">Hao Sun</span></p>
        </section>
        <section>
          <h2>Why?</h2>
          <p class="fragment">
            Because life could be so much
            <span class="text-green">better</span>!! ðŸ˜Ž
          </p>
          <aside class="notes">
            Once you have seen the other size there is no going back. This talk
            is a little different. There is no open-source code that you can
            play with yet. What I'm presenting is an idea that will change your
            life and how you view data analysis. You can dream about it at night
            or at work.
          </aside>
        </section>
        <section>
          <h2>What is <span class="text-blue">Data</span>-agnostic? ðŸ¤”</h2>
          <p class="fragment">
            <span class="text-green">logic</span>
            <span class="bad-text">NOT</span> changing when
            <span class="text-blue">data</span> changes!
          </p>
          <p class="fragment">
            (across iterations, features, projects, teams, data-storage-medium)
          </p>

          <p class="fragment my-thought">Subjective ðŸ˜œ</p>
          <aside class="notes">Want logic to be reusable.</aside>
        </section>
        <section
          data-auto-animate
          data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)"
        >
          <h2>Scenario</h2>
          <p>Calculate</p>
          <p
            class="fragment highlight-blue"
            data-fragment-index="2"
          >
            7-day
          </p>
          <p class="fragment highlight-green">average</p>
          <p
            class="fragment highlight-blue"
            data-fragment-index="2"
          >
            price
          </p>
          <p>for</p>
          <p
            class="fragment highlight-blue"
            data-fragment-index="2"
          >
            stock A
          </p>
        </section>
        <section
          data-auto-animate
          data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)"
        >
          <h2>Scenario</h2>
          <p>Calculate</p>
          <p class="text-blue">1-month</p>
          <p class="text-green">average</p>
          <p class="text-blue">price</p>

          <p>for</p>
          <p class="text-blue">stock A</p>
        </section>
        <section
          data-auto-animate
          data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)"
        >
          <h2>Scenario</h2>
          <p>Calculate</p>
          <p class="text-blue">1-month</p>
          <p class="text-green">average</p>
          <p class="text-blue">volume</p>

          <p>for</p>
          <p class="text-blue">stock A</p>
        </section>
        <section
          data-auto-animate
          data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)"
        >
          <h2>Scenario</h2>
          <p>Calculate</p>
          <p class="text-blue">1-month</p>
          <p class="text-green">average</p>
          <p class="text-blue">volume</p>

          <p>for</p>
          <p class="text-blue">stock B</p>
        </section>
        <section
          data-auto-animate
          data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)"
        >
          <h2>Scenario</h2>
          <p>Calculate</p>
          <p class="text-blue">7-day, 14-day, 1-month</p>
          <p class="text-green">average</p>
          <p class="text-blue">price, volume</p>

          <p>for</p>
          <p class="text-blue">stock A, B</p>
        </section>
        <section>
          <h2>More complex</h2>
          <p>
            Calculate <span class="text-green">max, avg, min</span> of
            <span class="text-green">length</span> of
            <span class="text-green">streaks</span> of
          </p>
          <p class="r-stack">
            <span
              class="text-green fragment fade-out"
              data-fragment-index="2"
              >0<span class="text-white">s</span></span
            >
            <span
              class="text-green fragment fade-in-then-out"
              data-fragment-index="2"
              >1<span class="text-white">s</span></span
            >
          </p>

          <p>
            in column of <span class="other-text">0</span>s and
            <span class="other-text">1</span>s
          </p>
        </section>
        <section>
          <h2>Goal</h2>
          <ul>
            <li>
              Separation of <span class="text-blue">data</span> and
              <span class="text-green">logic</span>
            </li>
            <li>
              <span class="text-green">Logic</span> is modular and reusable
            </li>
            <li>
              Distill essence of
              <span style="color: #ffca00">desired subset</span> of
              <code style="color: #e70488">pandas</code>
            </li>
          </ul>
          <aside class="notes">plug and play, not brett cannon</aside>
        </section>
        <section
          data-auto-animate
          data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)"
        >
          <p class="text-large">
            <span
              class="text-blue"
              data-id="1st_ex"
              >7-day</span
            >
            <span
              class="text-green"
              data-id="1st_ex_same"
              >sum,avg</span
            >
            of
            <span
              class="text-blue"
              data-id="1st_ex"
              >stock A</span
            >'s
            <span
              class="text-blue"
              data-id="1st_ex"
              >price</span
            >
          </p>
          <p><span class="text-green">The logic</span> (a json config) ðŸ¤“</p>
          <pre><code class="json" data-trim data-noescape data-line-numbers>
          {
            "tranformation": "agg",  # "col_ops", "filter", "merge"
            "agg_type": "disjoint",  # "rolling"
            "func": ["sum", "avg"],
          }
          </code></pre>
          <p>
            <span class="text-blue">The data</span> (another json config) ðŸ¤“
          </p>
          <pre
            data-id="data-1"
          ><code class="json" data-trim data-noescape data-line-numbers>
        { 
          "data_cols": ["price"],
          "date_col_name": "date",
          "lookback_periods": ["7d"],
          "groupby_cols": []
        }
        </code></pre>
        </section>
        <section
          data-auto-animate
          data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)"
        >
          <p class="text-large">
            <span
              class="text-blue"
              data-id="1st_ex"
              >7-day,1-month</span
            >
            <span
              class="text-green"
              data-id="1st_ex_same"
              >sum,avg</span
            >
            of
            <span
              class="text-blue"
              data-id="1st_ex"
              >stock A,B</span
            >'s
            <span
              class="text-blue"
              data-id="1st_ex"
              >price,volume</span
            >
          </p>
          <p><span class="text-green">The logic</span> (a json config) ðŸ¤“</p>
          <pre><code class="json" data-trim data-noescape data-line-numbers>
          {
            "tranformation": "agg",  # "col_ops", "filter", "merge"
            "agg_type": "disjoint",  # "rolling"
            "func": ["sum", "avg"],
          }
          </code></pre>
          <p>
            <span class="text-blue">The data</span> (another json config) ðŸ¤“
          </p>
          <pre
            data-id="data-1"
          ><code class="json" data-trim data-noescape data-line-numbers>
        { 
          "data_cols": ["price", "volume"],
          "date_col_name": "date",
          "lookback_periods": ["7d", "1m"],
          "groupby_cols": ["stock_name"]
        }
        </code></pre>
        </section>
        <section
          data-auto-animate
          data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)"
        >
          <p class="text-large">
            <span
              class="text-green"
              data-id="same"
              >max, avg, min</span
            >
            of
            <span
              class="text-green"
              data-id="same"
              >length</span
            >
            of
            <span
              class="text-green"
              data-id="same"
              >streaks</span
            >
            of
            <span
              class="text-green"
              data-id="1"
              >0</span
            >s in column "01_col" of
            <span
              class="other-text"
              data-id="same"
              >0</span
            >s and
            <span
              class="other-text"
              data-id="same"
              >1</span
            >s
          </p>
          <div class="container">
            <div class="col">
              <p><span class="text-green">The logic</span></p>
              <pre
                data-id="code-animation"
              ><code class="json" data-trim data-noescape style="font-size: large;" data-line-numbers="|1-4|5-8|9-12|13-15|">
          [ { # step 1
              "tranformation": "agg",
              "agg_type": "rolling"
              "func": ["cumsum"], }, 
            { # step 2
              "tranformation": "agg",
              "agg_type": "disjoint",
              "func": ["count"], }, 
            { # step 3
              "tranformation": "agg",
              "agg_type": "disjoint",
              "func": ["max", "avg", "min"], },
            { # step 4 
              "tranformation": "filter",
              "func": ["{col}=0"] }]
          </code></pre>
            </div>

            <div class="col">
              <p>
                <span class="text-blue">The data</span>
              </p>
              <pre
                data-id="code-animation"
              ><code class="json" data-trim data-noescape style="font-size: large;" data-line-numbers="|1-3|4-7|8-9|10-11|">
        [ { # step 1
            "data_cols": ["01_col"],
            # "orderby_cols": ["index_col"], }, 
          { # step 2
            # "data_cols": ["{result}"],
            "groupby_cols": 
              ["01_col", "{result}"], }, 
          { # step 3
            "groupby_cols": [], },
          { # step 4 
            "data_cols": ["01_col"] } ]
        </code></pre>
            </div>
          </div>

          <aside class="notes">
            add invert step at begining to calculate streak of 1s
          </aside>
        </section>
        <section
          data-auto-animate
          data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)"
        >
          <p class="text-large">
            <span
              class="text-green"
              data-id="same"
              >max, avg, min</span
            >
            of
            <span
              class="text-green"
              data-id="same"
              >length</span
            >
            of
            <span
              class="text-green"
              data-id="same"
              >streaks</span
            >
            of
            <span
              class="text-green"
              data-id="1"
              >1</span
            >s in column "01_col" of
            <span
              class="other-text"
              data-id="same"
              >0</span
            >s and
            <span
              class="other-text"
              data-id="same"
              >1</span
            >s
          </p>
          <div class="container">
            <div class="col">
              <p><span class="text-green">The logic</span></p>
              <pre
                data-id="code-animation"
              ><code class="json" data-trim data-noescape style="font-size: large;" data-line-numbers="0-3">
          [ { # step 0 
              "tranformation": "col_ops",
              "func": ["1-{col}"] },
            { # step 1
              "tranformation": "agg",
              "agg_type": "rolling"
              "func": ["cumsum"], }, 
            { # step 2
              "tranformation": "agg",
              "agg_type": "disjoint",
              "func": ["count"], }, 
            { # step 3
              "tranformation": "agg",
              "agg_type": "disjoint",
              "func": ["max", "avg", "min"], },
            { # step 4 
              "tranformation": "filter",
              "func": ["{col}=0"]
             }]
          </code></pre>
            </div>

            <div class="col">
              <p>
                <span class="text-blue">The data</span>
              </p>
              <pre
                data-id="code-animation"
              ><code class="json" data-trim data-noescape style="font-size: large;" data-line-numbers="0-2">
        [ { # step 0
            "data_cols": ["01_col"], }, 
          { # step 1
            # "data_cols": ["{result}"],
            # "orderby_cols": ["index_col"], }, 
          { # step 2
            "groupby_cols": 
              ["01_col", "{result}"], }, 
          { # step 3
            "groupby_cols": [], },
          { # step 4 
            "data_cols": ["01_col"] } ]
        </code></pre>
            </div>
          </div>

          <aside class="notes">
            add invert step at begining to calculate streak of 1s
          </aside>
        </section>
        <section>
          <div style="font-size: large; text-align: center">
            <table>
              <thead>
                <tr>
                  <th>01_col</th>
                  <th>cumsum</th>
                </tr>
              </thead>
              <tbody>
                <tr
                  class="fragment fade-out"
                  data-fragment-index="2"
                >
                  <td style="text-align: center">1</td>
                  <td
                    class="fragment"
                    data-fragment-index="1"
                    style="text-align: center"
                  >
                    1
                  </td>
                </tr>
                <tr>
                  <td style="text-align: center">0</td>
                  <td
                    class="fragment"
                    data-fragment-index="1"
                    style="text-align: center"
                  >
                    1
                  </td>
                </tr>
                <tr>
                  <td style="text-align: center">0</td>
                  <td
                    class="fragment"
                    data-fragment-index="1"
                    style="text-align: center"
                  >
                    1
                  </td>
                </tr>
                <tr
                  class="fragment fade-out"
                  data-fragment-index="2"
                >
                  <td style="text-align: center">1</td>
                  <td
                    class="fragment"
                    data-fragment-index="1"
                    style="text-align: center"
                  >
                    2
                  </td>
                </tr>
                <tr
                  class="fragment fade-out"
                  data-fragment-index="2"
                >
                  <td style="text-align: center">1</td>
                  <td
                    class="fragment"
                    data-fragment-index="1"
                    style="text-align: center"
                  >
                    3
                  </td>
                </tr>
                <tr>
                  <td style="text-align: center">0</td>
                  <td
                    class="fragment"
                    data-fragment-index="1"
                    style="text-align: center"
                  >
                    3
                  </td>
                </tr>
                <tr>
                  <td style="text-align: center">0</td>
                  <td
                    class="fragment"
                    data-fragment-index="1"
                    style="text-align: center"
                  >
                    3
                  </td>
                </tr>
                <tr>
                  <td style="text-align: center">0</td>
                  <td
                    class="fragment"
                    data-fragment-index="1"
                    style="text-align: center"
                  >
                    3
                  </td>
                </tr>
                <tr
                  class="fragment fade-out"
                  data-fragment-index="2"
                >
                  <td style="text-align: center">1</td>
                  <td
                    class="fragment"
                    data-fragment-index="1"
                    style="text-align: center"
                  >
                    4
                  </td>
                </tr>
                <tr>
                  <td style="text-align: center">0</td>
                  <td
                    class="fragment"
                    data-fragment-index="1"
                    style="text-align: center"
                  >
                    4
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <section>
          <h2>ðŸ¤” Where is</h2>
          <img
            src="media/pandas_white.svg"
            height="150em"
          />
        </section>
        <section>
          <h2 class="fragment">ðŸ¤¯</h2>
          <h4>Can also works for</h4>
          <br />
          <img
            src="media/spark-logo-reverse.png"
            height="100em"
          />
          <img
            src="media/db-logo-stacked-white-desktop.svg"
            height="100em"
          />
          <img
            src="media/dask-horizontal-white.svg"
            height="100em"
          />
          <p>...</p>
          <p class="fragment">if you write adapters</p>
        </section>
        <section data-markdown>
          <section data-markdown>
            <textarea data-template>
          > "The <span style="color: greenyellow">best</span> code is <span style="color: red">no</span> code at all."   
          >   
          > -Jeff Atwood
          </textarea
            >
          </section>
        </section>
        <section>
          <h2>
            <span style="color: greenyellow">Config</span> vs
            <span style="color: red">Code</span>
          </h2>

          <img
            src="media/ansible.png"
            height="100em"
          />
          <img
            src="media/jenkins.png"
            height="100em"
          />
          <img
            src="media/Moby-logo.png"
            height="100em"
          />
          <img
            src="media/helm.svg"
            height="100em"
          />
          <img
            src="media/github_actions.png"
            height="100em"
          />

          <aside class="notes">
            We are in an age where we only need to write configs.
          </aside>
        </section>
        <section>
          <h1>Thank you!</h1>
          <img
            src="media/qrcode_oddsun.github.io.png"
            height="200em"
          />
        </section>
      </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script src="plugin/math/math.js"></script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        hash: true,
        mathjax3: {
          mathjax:
            "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js",
          tex: {
            inlineMath: [
              ["$", "$"],
              ["\\(", "\\)"],
            ],
          },
          options: {
            skipHtmlTags: ["script", "noscript", "style", "textarea", "pre"],
          },
        },
        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [
          RevealMarkdown,
          RevealHighlight,
          RevealNotes,
          RevealMath.MathJax3,
        ],
      });
    </script>
  </body>
</html>
